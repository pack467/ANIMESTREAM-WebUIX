<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch History - AniStream</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;500;600;700;800&family=Oswald:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="../styles/history.css">
</head>
<body>
    <header class="header" id="mainHeader">
        <div class="container header-container">
            <div class="logo">
                <a href="home.html">ANI<span class="highlight">ME</span>STREAM</a>
            </div>

            <nav class="navbar" id="navbar">
                <ul class="menu">
                    <li class="menu-item"><a href="home.html">Home</a></li>
                    <li class="menu-item"><a href="#">Genre</a></li>
                    <li class="menu-item"><a href="#">Schedule</a></li>
                    <li class="menu-item"><a href="#">News</a></li>
                </ul>
            </nav>

            <div class="header-actions">
                <button class="action-btn search-trigger" id="searchTrigger"><i class="fas fa-search"></i></button>
                
                <div class="user-profile">
                    <button class="user-btn" id="userBtn">
                        <i class="fas fa-user"></i>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-info">
                            <div class="user-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="user-details">
                                <span class="user-name">AnimeLover</span>
                                <span class="user-status">Premium Member</span>
                            </div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-user"></i>
                            <span>My Profile</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-list"></i>
                            <span>My List</span>
                        </a>
                        <a href="#" class="dropdown-item active">
                            <i class="fas fa-history"></i>
                            <span>Watch History</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item logout">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Log Out</span>
                        </a>
                    </div>
                </div>

                <button class="mobile-toggle" id="mobileToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <div class="search-overlay" id="searchOverlay">
        <div class="search-close" id="searchClose"><i class="fas fa-times"></i></div>
        <div class="search-box">
            <input type="text" placeholder="Type to search anime...">
            <button><i class="fas fa-search"></i></button>
        </div>
        <div class="search-tags">
            <span>Popular:</span>
            <a href="#">One Piece</a>
            <a href="#">Naruto</a>
            <a href="#">Demon Slayer</a>
            <a href="#">Jujutsu Kaisen</a>
        </div>
    </div>

    <div class="history-container">
        <div class="container">
            <div class="page-header">
                <div class="header-content">
                    <h1 class="page-title">
                        <i class="fas fa-history"></i>
                        Watch History
                    </h1>
                    <p class="page-subtitle">Keep track of all the anime you've watched</p>
                </div>
                <div class="header-actions">
                    <button class="btn-secondary" id="clearAllBtn">
                        <i class="fas fa-trash"></i>
                        Clear All History
                    </button>
                </div>
            </div>

            <div class="history-controls">
                <div class="filter-section">
                    <div class="filter-group">
                        <label>Filter by:</label>
                        <select id="filterSelect">
                            <option value="all">All Time</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Sort by:</label>
                        <select id="sortSelect">
                            <option value="recent">Most Recent</option>
                            <option value="oldest">Oldest First</option>
                            <option value="title">Title A-Z</option>
                        </select>
                    </div>
                </div>
                <div class="search-section">
                    <div class="search-input-wrapper">
                        <i class="fas fa-search"></i>
                        <input type="text" id="historySearch" placeholder="Search in history...">
                    </div>
                </div>
            </div>

            <div class="history-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalWatched">0</div>
                        <div class="stat-label">Episodes Watched</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalHours">0h</div>
                        <div class="stat-label">Total Watch Time</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-film"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="totalAnime">0</div>
                        <div class="stat-label">Different Anime</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar-day"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value" id="recentDays">0</div>
                        <div class="stat-label">Days Active</div>
                    </div>
                </div>
            </div>

            <div class="history-content">
                <div class="history-timeline" id="historyTimeline">
                    <!-- History items will be populated by JavaScript -->
                </div>

                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h3>No Watch History Yet</h3>
                    <p>Start watching anime to build your history</p>
                    <a href="home.html" class="btn-primary">
                        <i class="fas fa-home"></i>
                        Browse Anime
                    </a>
                </div>
            </div>

            <div class="pagination" id="pagination">
                <button class="page-btn prev" id="prevPage">
                    <i class="fas fa-chevron-left"></i>
                    Previous
                </button>
                <div class="page-numbers" id="pageNumbers"></div>
                <button class="page-btn next" id="nextPage">
                    Next
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-bg-graphics"></div>
        <div class="container">
            <div class="footer-top">
                <div class="footer-col brand-col">
                     <div class="logo">
                        <a href="home.html">ANI<span class="highlight">ME</span>STREAM</a>
                    </div>
                    <p>The premier destination for high-quality anime streaming. Join our community today.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-discord"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col links-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Our Blog</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Contacts</a></li>
                    </ul>
                </div>
                <div class="footer-col newsletter-col">
                    <h4>Newsletter</h4>
                    <p>Subscribe to get the latest updates.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your Email...">
                        <button><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ANIMESTREAM Inc. All Rights Reserved</p>
                <a href="#" id="backToTop" class="back-to-top"><i class="fas fa-arrow-up"></i></a>
            </div>
        </div>
    </footer>

    <div class="confirm-modal" id="confirmModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h3>Clear Watch History?</h3>
            <p>This action cannot be undone. All your watch history will be permanently deleted.</p>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancelBtn">Cancel</button>
                <button class="btn-danger" id="confirmClearBtn">Clear History</button>
            </div>
        </div>
    </div>

    <script src="../script/history.js"></script>
</body>
</html>