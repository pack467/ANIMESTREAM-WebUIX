<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch History - AniStream</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;500;600;700;800&family=Oswald:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="../styles/history.css">
</head>
<body>
    <div id="preloader">
        <div class="loader-container">
            <div class="loader-logo">ANI<span class="me">ME</span>STREAM</div>
            <div class="progress-bar-wrap">
                <div class="progress-bar" id="loader-progress"></div>
            </div>
            <div class="loading-text">Loading Watch History...</div>
        </div>
    </div>

    <div class="search-overlay" id="searchOverlay">
        <div class="search-close" id="searchClose"><i class="fas fa-times"></i></div>
        <div class="search-box">
            <input type="text" placeholder="Type to search anime...">
            <button><i class="fas fa-search"></i></button>
        </div>
        <div class="search-tags">
            <span>Popular:</span>
            <a href="#">One Piece</a>
            <a href="#">Naruto</a>
            <a href="#">Demon Slayer</a>
            <a href="#">Jujutsu Kaisen</a>
        </div>
    </div>

    <header class="header" id="mainHeader">
        <div class="container header-container">
            <div class="logo">
                <a href="home.html">ANI<span class="highlight">ME</span>STREAM</a>
            </div>

            <nav class="navbar" id="navbar">
                <ul class="menu">
                    <li class="menu-item"><a href="home.html">Home</a></li>
                    <li class="menu-item has-dropdown">
                        <a href="#">Genre <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Adventure</a></li>
                            <li><a href="#">Fantasy</a></li>
                            <li><a href="#">Sci-Fi</a></li>
                        </ul>
                    </li>
                    <li class="menu-item"><a href="#">Schedule</a></li>
                    <li class="menu-item"><a href="#">News</a></li>
                </ul>
            </nav>

            <div class="header-actions">
                <button class="action-btn search-trigger" id="searchTrigger"><i class="fas fa-search"></i></button>
                
                <!-- User Profile Button dengan Dropdown Menu -->
                <div class="user-profile">
                    <button class="user-btn" id="userBtn">
                        <i class="fas fa-user"></i>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-info">
                            <div class="user-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="user-details">
                                <span class="user-name">AnimeLover</span>
                                <span class="user-status">Premium Member</span>
                            </div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-user"></i>
                            <span>My Profile</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-list"></i>
                            <span>My List</span>
                        </a>
                        <a href="history.html" class="dropdown-item active">
                            <i class="fas fa-history"></i>
                            <span>Watch History</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item logout">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Log Out</span>
                        </a>
                    </div>
                </div>

                <button class="mobile-toggle" id="mobileToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <div class="history-hero">
        <div class="container">
            <div class="history-hero-content">
                <h1 class="history-title">Watch History</h1>
                <p class="history-subtitle">Your anime journey, beautifully organized</p>
                <div class="history-stats">
                    <div class="stat-card">
                        <i class="fas fa-play-circle"></i>
                        <div class="stat-info">
                            <span class="stat-number">247</span>
                            <span class="stat-label">Episodes Watched</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-clock"></i>
                        <div class="stat-info">
                            <span class="stat-number">124h</span>
                            <span class="stat-label">Total Watch Time</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-tv"></i>
                        <div class="stat-info">
                            <span class="stat-number">42</span>
                            <span class="stat-label">Different Series</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="history-container">
        <div class="container">
            <div class="history-header">
                <div class="history-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="today">Today</button>
                    <button class="filter-btn" data-filter="week">This Week</button>
                    <button class="filter-btn" data-filter="month">This Month</button>
                    <button class="filter-btn" data-filter="series">Series</button>
                    <button class="filter-btn" data-filter="movies">Movies</button>
                </div>
                <div class="history-sort">
                    <select id="sortBy">
                        <option value="recent">Most Recent</option>
                        <option value="oldest">Oldest First</option>
                        <option value="progress">Watch Progress</option>
                        <option value="title">Title A-Z</option>
                    </select>
                    <button class="clear-history-btn" id="clearHistoryBtn">
                        <i class="fas fa-trash-alt"></i>
                        Clear All History
                    </button>
                </div>
            </div>

            <div class="history-grid" id="historyGrid">
                <!-- History items will be loaded here dynamically -->
            </div>

            <div class="empty-history" id="emptyHistory" style="display: none;">
                <div class="empty-icon">
                    <i class="fas fa-history"></i>
                </div>
                <h3>No Watch History Yet</h3>
                <p>Start watching anime and your history will appear here</p>
                <a href="home.html" class="btn-primary">Browse Anime</a>
            </div>

            <div class="pagination" id="pagination">
                <!-- Pagination will be added here dynamically -->
            </div>
        </div>
    </div>

    <div class="recently-deleted" id="recentlyDeleted">
        <div class="container">
            <div class="deleted-header">
                <h3><i class="fas fa-trash-restore"></i> Recently Deleted</h3>
                <button class="restore-all-btn" id="restoreAllBtn">Restore All</button>
            </div>
            <div class="deleted-list" id="deletedList">
                <!-- Recently deleted items will appear here -->
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-bg-graphics"></div>
        <div class="container">
            <div class="footer-top">
                <div class="footer-col brand-col">
                     <div class="logo">
                        <a href="home.html">ANI<span class="highlight">ME</span>STREAM</a>
                    </div>
                    <p>The premier destination for high-quality anime streaming. Join our community today.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-discord"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col links-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Our Blog</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Contacts</a></li>
                    </ul>
                </div>
                <div class="footer-col newsletter-col">
                    <h4>Newsletter</h4>
                    <p>Subscribe to get the latest updates.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your Email...">
                        <button><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ANIMESTREAM Inc. All Rights Reserved</p>
                <a href="#" id="backToTop" class="back-to-top"><i class="fas fa-arrow-up"></i></a>
            </div>
        </div>
    </footer>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Action</h3>
                <button class="modal-close" id="modalClose"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p id="modalMessage">Are you sure you want to clear all watch history? This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="modalCancel">Cancel</button>
                <button class="btn-primary" id="modalConfirm">Confirm</button>
            </div>
        </div>
    </div>

    <script src="../script/history.js"></script>
</body>
</html>